ext.getCurrentBranch = { ->
    def stdout = new ByteArrayOutputStream()
    exec{
        commandLine 'git', 'rev-parse', '--abbrev-ref', 'HEAD'
        standardOutput = stdout
    }
    return stdout.toString().trim()
}

ext.getCurrentCommit = { ->
    def stdout = new ByteArrayOutputStream()
    exec{
        commandLine 'git', 'log', '-1', '--pretty=%B'
        standardOutput = stdout
    }
    return stdout.toString().trim()
}