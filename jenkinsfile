pipeline{
    agent any

     

    stages{
         stage('Clean'){
                steps{
                    echo('Cleaning...')
                  sh  './gradlew clean'

                }
            }

          stage('Build'){
                steps{
                    echo('Building...')
                    sh './gradlew assembleDebug'
                      
                }
            }

             stage('Test'){
                    steps{
                        echo('Testing...')
                        sh './gradlew testDebugUnitTest'
                       
                    }
                }
                
              
         }
         
         post {
        always {
            archiveArtifacts artifacts: '**/build/outputs/apk/*'
            junit '**/build/reports/**/*.xml'
        }
    }
}
